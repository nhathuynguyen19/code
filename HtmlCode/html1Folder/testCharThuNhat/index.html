<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>First Person Character Control</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
    }
    canvas {
        display: block;
        background-color: #f0f0f0;
    }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
    // Get the canvas element and its 2D context
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    // Character object
    const character = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        size: 20,
        speed: 5,
        jumping: false,
        jumpHeight: 100,
        jumpCount: 0
    };

    // Event listeners for mouse movement
    canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;

        // Calculate angle towards mouse position
        const dx = mouseX - character.x;
        const dy = mouseY - character.y;
        const angle = Math.atan2(dy, dx);

        // Update character rotation or other logic based on mouse movement
        // For simplicity, we update character position towards mouse (you can add rotation logic here)
        character.x += Math.cos(angle) * character.speed;
        character.y += Math.sin(angle) * character.speed;

        // Clear canvas and draw character
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawCharacter();
    });

    // Event listeners for keyboard input
    window.addEventListener('keydown', (e) => {
        if (e.key === ' ') {
            // Space key for jumping
            if (!character.jumping && character.jumpCount < 2) {
                character.jumping = true;
                character.jumpCount++;
                jump();
            }
        }
    });

    // Function to handle jumping
    function jump() {
        let jumpInterval = setInterval(() => {
            if (character.jumpHeight > 0) {
                character.y -= 5; // Adjust jump speed
                character.jumpHeight -= 5;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawCharacter();
            } else {
                clearInterval(jumpInterval);
                character.jumping = false;
                character.jumpHeight = 100; // Reset jump height
            }
        }, 10); // Adjust jump interval for smoothness
    }

    // Function to draw character
    function drawCharacter() {
        ctx.fillStyle = 'blue';
        ctx.beginPath();
        ctx.arc(character.x, character.y, character.size, 0, Math.PI * 2);
        ctx.fill();
    }

    // Initial draw
    drawCharacter();
</script>
</body>
</html>
